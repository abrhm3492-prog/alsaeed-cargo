<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MNGX Kargo</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:#eef2f7;
}

.header{
background:#ff6600;
padding:20px;
text-align:center;
color:white;
font-size:24px;
font-weight:bold;
}

.hero{
background:linear-gradient(135deg,#ff6600,#ff8533);
padding:60px 20px 100px;
border-bottom-left-radius:60px;
border-bottom-right-radius:60px;
}

.card{
background:white;
border-radius:20px;
padding:25px;
max-width:1000px;
margin:auto;
box-shadow:0 20px 40px rgba(0,0,0,0.12);
}

h2{color:#ff6600;text-align:center;}

input,select{
width:100%;
padding:12px;
border-radius:12px;
border:1px solid #ddd;
margin-top:10px;
}

button{
padding:10px 15px;
border:none;
border-radius:12px;
background:#ff6600;
color:white;
font-weight:bold;
cursor:pointer;
margin-top:10px;
}

button:hover{background:#e65c00;}

.result{
margin-top:20px;
padding:15px;
background:#f7f9fc;
border-radius:15px;
display:none;
}

.history{
margin-top:15px;
background:#fff3e6;
padding:10px;
border-radius:12px;
}

.footer{
background:#ff6600;
color:white;
text-align:center;
padding:20px;
margin-top:50px;
}

table{
width:100%;
margin-top:20px;
border-collapse:collapse;
}

th,td{
padding:10px;
border:1px solid #ddd;
text-align:center;
}

th{
background:#ff6600;
color:white;
}
</style>
</head>

<body>

<div class="header">MNGX Kargo</div>

<div class="hero">

<div class="card" id="trackingPage">
<h2>Gönderi Takibi</h2>
<input type="text" id="trackingInput" placeholder="Takip numarası">
<button onclick="track()">Sorgula</button>

<div class="result" id="resultBox">
<div id="shipmentInfo"></div>
<div class="history" id="historyBox"></div>
</div>
</div>

<div class="card" id="adminPage" style="display:none;margin-top:30px;">
<h2>Yönetim Paneli</h2>

<div id="loginBox">
<input type="password" id="adminPass" placeholder="Şifre">
<button onclick="login()">Giriş</button>
</div>

<div id="adminContent" style="display:none;">

<h3>Yeni Gönderi</h3>
<input type="text" id="a_code" placeholder="Takip No">
<input type="text" id="a_name" placeholder="Alıcı">
<input type="text" id="a_city" placeholder="Şehir">
<input type="text" id="a_address" placeholder="Adres">
<button onclick="addShipment()">Kaydet</button>

<h3>Kayıtlar</h3>
<table>
<thead>
<tr>
<th>Takip</th>
<th>Alıcı</th>
<th>Şehir</th>
<th>Durum Güncelle</th>
<th>Sil</th>
</tr>
</thead>
<tbody id="shipmentTable"></tbody>
</table>

</div>
</div>

</div>

<div class="footer">© 2026 MNGX Kargo</div>

<script>

var shipments = JSON.parse(localStorage.getItem("shipments")) || {};

if(location.hash === "#index-admin"){
document.getElementById("trackingPage").style.display="none";
document.getElementById("adminPage").style.display="block";
}

function login(){
if(document.getElementById("adminPass").value === "1234"){
document.getElementById("loginBox").style.display="none";
document.getElementById("adminContent").style.display="block";
renderTable();
}else{alert("Şifre yanlış");}
}

function saveData(){
localStorage.setItem("shipments", JSON.stringify(shipments));
}

function addShipment(){
var code=document.getElementById("a_code").value.trim();
if(!code) return alert("Takip gerekli");

shipments[code]={
alici:document.getElementById("a_name").value,
sehir:document.getElementById("a_city").value,
adres:document.getElementById("a_address").value,
history:[
{durum:"Gönderi oluşturuldu",tarih:new Date().toLocaleString("tr-TR")}
]
};

saveData();
renderTable();
alert("Kaydedildi");
}

function updateStatus(code){
var durum=prompt("Yeni durum:");
if(!durum) return;
shipments[code].history.push({
durum:durum,
tarih:new Date().toLocaleString("tr-TR")
});
saveData();
}

function deleteShipment(code){
delete shipments[code];
saveData();
renderTable();
}

function renderTable(){
var table=document.getElementById("shipmentTable");
table.innerHTML="";
for(var code in shipments){
table.innerHTML+=`
<tr>
<td>${code}</td>
<td>${shipments[code].alici}</td>
<td>${shipments[code].sehir}</td>
<td><button onclick="updateStatus('${code}')">Güncelle</button></td>
<td><button onclick="deleteShipment('${code}')">Sil</button></td>
</tr>`;
}
}

function track(){
var code=document.getElementById("trackingInput").value.trim();
var resultBox=document.getElementById("resultBox");
var info=document.getElementById("shipmentInfo");
var historyBox=document.getElementById("historyBox");

if(shipments[code]){
var data=shipments[code];
resultBox.style.display="block";

info.innerHTML=`
<p><strong>Takip No:</strong> ${code}</p>
<p><strong>Alıcı:</strong> ${data.alici}</p>
<p><strong>Şehir:</strong> ${data.sehir}</p>
<p><strong>Adres:</strong> ${data.adres}</p>
`;

historyBox.innerHTML="<strong>Hareket Geçmişi:</strong><br>";
data.history.forEach(function(h){
historyBox.innerHTML+=`<p>• ${h.durum} - ${h.tarih}</p>`;
});

}else{
alert("Gönderi bulunamadı");
}
}

</script>

</body>
</html>
